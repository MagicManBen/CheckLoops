Always begin by reviewing the file supabaseinfo.txt, as it contains essential information pulled from Supabase, and use the Supabase CLI connection to dig deeper or make amendments directly. All users must log in via home.html, which routes to staff.html on success; both staff and admin roles can access staff pages, but admins additionally see an “Admin Site” button in the navigation that links to index.html while keeping them logged in. index.html must never have its own login page, and if a staff-role user attempts to access it directly, they must be redirected to home.html. The only exception to this navigation rule is the Welcome flow for new invitees: a new invitee accepts an invite, sets a password, is auto-redirected to a forced Welcome page, completes onboarding, and then is redirected to staff.html; subsequent logins bypass the forced welcome and land on staff.html, while returning onboarded users log in normally with no forced welcome but can still open the Welcome page manually from the menu. If a user is mid-onboarding and refreshes, they are still forced to complete the Welcome steps before continuing. For testing, ben.howard@stoke.nhs.uk with password Hello1! is a staff user, and benhowardmagic@hotmail.com with password Hello1! is an admin. No API keys must ever be stored in the code and should always be accessed securely via Supabase Edge. Always provide complete fixes or implementations without partial edits, do not test directly, and do not open browsers; simply confirm when updates are complete so manual testing can be performed. 