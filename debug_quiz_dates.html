<!DOCTYPE html>
<html>
<head>
    <title>Debug Quiz Date Logic</title>
</head>
<body>
    <h1>Debug Quiz Date Logic</h1>
    <div id="output"></div>

    <script>
        // Copy the date functions from staff-quiz.html
        function getWeekStart(date = new Date()) {
            const d = new Date(date);
            const day = d.getDay();
            const diff = d.getDate() - day;
            return new Date(d.setDate(diff));
        }

        function getWeekEnd(date = new Date()) {
            const start = getWeekStart(date);
            return new Date(start.getTime() + 6 * 24 * 60 * 60 * 1000);
        }

        function getNextWeekStart(date = new Date()) {
            const end = getWeekEnd(date);
            return new Date(end.getTime() + 24 * 60 * 60 * 1000);
        }

        // Test the logic
        const now = new Date();
        const weekStart = getWeekStart();
        const weekEnd = getWeekEnd();
        const nextWeekStart = getNextWeekStart();

        const output = document.getElementById('output');
        output.innerHTML = `
            <p><strong>Current Date:</strong> ${now.toString()}</p>
            <p><strong>Week Start (Sunday):</strong> ${weekStart.toString()}</p>
            <p><strong>Week End (Saturday):</strong> ${weekEnd.toString()}</p>
            <p><strong>Next Week Start:</strong> ${nextWeekStart.toString()}</p>
            <hr>
            <p><strong>Week Start ISO:</strong> ${weekStart.toISOString()}</p>
            <p><strong>Week End ISO:</strong> ${weekEnd.toISOString()}</p>
            <p><strong>Next Week Start ISO:</strong> ${nextWeekStart.toISOString()}</p>
            <hr>
            <p><strong>Current Day of Week:</strong> ${now.getDay()} (0=Sunday, 6=Saturday)</p>
        `;
    </script>

    <!-- Debug Console - Persistent across all pages -->
    <script src="debug-console.js"></script>
</body>
</html>